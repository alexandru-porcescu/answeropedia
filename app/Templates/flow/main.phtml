
<?php require TEMPLATE_PATH.'/flow/main/header.phtml'; ?>

<?php if (isset($this->activities)): ?>
    <?php foreach ($this->activities as $activity):
        switch ($activity['activity_type']) {
            // @TODO Bad
            case 'Q_RENAMED_BY_U':
                $data = $activity['data'];
                require TEMPLATE_PATH.'/_common/activity/f_q_renamed_by_u.phtml';
                break;
            // @TODO Bad
            case 'U_RENAME_Q':
                $data = $activity['data'];
                require TEMPLATE_PATH.'/_common/activity/f_u_rename_q.phtml';
                break;
            // @TODO Bad
            case 'USER_FOLLOW_CATEGORY':
                $data = $activity['data'];
                require TEMPLATE_PATH.'/_common/activity/f_u_follow_h.phtml';
                break;
            // @TODO Bad
            case 'CATEGORY_ADDED_QUESTION':
                $data = $activity['data'];
                require TEMPLATE_PATH.'/_common/activity/f_h_added_q.phtml';
                break;
            case 'F_U_UPDATE_A':
            case 'F_U_FOLLOW_Q':
            case 'F_U_FOLLOW_U':
            case 'USER_RENAME_CATEGORY':
            //case 'followed_U_asked_Q':
            //case 'followed_U_repost_Q':
            //case 'followed_H_got_achievement':
                $data = $activity['data'];
                require TEMPLATE_PATH.'/_common/activity/'.strtolower($activity['activity_type']).'.phtml';
                break;
            // Don`t show some activities
            case 'F_Q_UPDATE_A':
            case 'CATEGORY_RENAMED_BY_USER': // Doublicate of USER_RENAME_CATEGORY
                echo "<!-- Not show: ".$activity['activity_type']." -->";
                break;
            default:
                require TEMPLATE_PATH.'/_common/activity/not_found.phtml';
                break;
        };
    endforeach; ?>
<?php endif; ?>

<?php require_once TEMPLATE_PATH.'/flow/main/more_activities.phtml'; ?>
